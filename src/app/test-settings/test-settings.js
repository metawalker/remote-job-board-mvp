// Generated by Copilot
// Simple test to check admin settings API
const testAdminSettings = async () => {
  try {
    console.log('🧪 Testing admin settings API...')
    
    // First check if we're authenticated
    const debugResponse = await fetch('/api/debug')
    const debugData = await debugResponse.json()
    console.log('🔍 Debug info:', debugData)
    
    if (debugData.authenticated && debugData.isAdmin) {
      console.log('✅ User is authenticated and admin')
      
      // Test settings API
      const settingsResponse = await fetch('/api/admin/settings')
      const settingsData = await settingsResponse.json()
      
      console.log('⚙️ Settings API response:')
      console.log('  Status:', settingsResponse.status)
      console.log('  Success:', settingsData.success)
      console.log('  Sources count:', settingsData.settings?.sources?.length || 0)
      console.log('  Sources:', settingsData.settings?.sources)
      
      return settingsData
    } else {
      console.log('❌ User not authenticated or not admin')
      console.log('  Authenticated:', debugData.authenticated)
      console.log('  Is Admin:', debugData.isAdmin)
      return null
    }
  } catch (error) {
    console.error('❌ Test failed:', error)
    return null
  }
}

// Auto-run the test
window.addEventListener('load', () => {
  setTimeout(testAdminSettings, 1000)
})

export { testAdminSettings }
